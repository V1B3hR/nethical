# Nethical Multi-Cluster Kubernetes Deployment
#
# This directory contains Kubernetes manifests for deploying Nethical
# across multiple clusters in different regions.
#
# Directory Structure:
# - base/           - Base manifests shared by all clusters
# - overlays/       - Region-specific overlays
#   - us-east-1/    - US East primary cluster
#   - eu-west-1/    - EU West secondary cluster
#   - ap-south-1/   - APAC secondary cluster
#
# Architecture:
# - Each region runs a full Nethical stack
# - PostgreSQL primary in us-east-1, read replicas in other regions
# - Redis Global Datastore for caching
# - CRDT-based policy synchronization between regions
#
# Prerequisites:
# - kubectl configured for multi-cluster access
# - Kustomize >= 4.0
# - Cluster federation tool (optional: Liqo, Skupper)
#
# Usage:
# 1. Deploy to primary cluster:
#    kubectl apply -k overlays/us-east-1
#
# 2. Deploy to secondary clusters:
#    kubectl apply -k overlays/eu-west-1
#    kubectl apply -k overlays/ap-south-1
#
# 3. Verify cross-region sync:
#    kubectl get pods -n nethical --context=us-east-1
#    kubectl get pods -n nethical --context=eu-west-1
#    kubectl get pods -n nethical --context=ap-south-1

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: nethical-multi-cluster

resources:
  - namespace.yaml
  - configmap.yaml
  - deployment.yaml
  - service.yaml
  - hpa.yaml
  - pdb.yaml
  - network-policy.yaml
  - service-mesh.yaml

commonLabels:
  app.kubernetes.io/name: nethical
  app.kubernetes.io/component: api
  app.kubernetes.io/part-of: nethical-platform
