Test Class: TestRecoveryAndFailsafes
Timestamp: 2025-09-23T17:17:54.533336
============================================================
STDOUT:
============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.12.3', 'Platform': 'Linux-6.11.0-1018-azure-x86_64-with-glibc2.39', 'Packages': {'pytest': '8.4.2', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'asyncio': '1.2.0'}, 'CI': 'true', 'JAVA_HOME': '/usr/lib/jvm/temurin-17-jdk-amd64'}
rootdir: /home/runner/work/nethical/nethical
configfile: pyproject.toml
plugins: json-report-1.5.0, metadata-3.1.1, asyncio-1.2.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 2 items

tests/advancedtests.py::TestRecoveryAndFailsafes::test_component_failure_recovery FAILED [ 50%]
tests/advancedtests.py::TestRecoveryAndFailsafes::test_cascading_failure_prevention PASSED [100%]

=================================== FAILURES ===================================
___________ TestRecoveryAndFailsafes.test_component_failure_recovery ___________
tests/advancedtests.py:673: in test_component_failure_recovery
    assert judgment.decision in ["RESTRICT", "BLOCK", "TERMINATE"]
E   assert <Decision.BLOCK: 'block'> in ['RESTRICT', 'BLOCK', 'TERMINATE']
E    +  where <Decision.BLOCK: 'block'> = JudgmentResult(judgment_id='6ab1557b3772', action_id='failure_test', decision=<Decision.BLOCK: 'block'>, confidence=0.0, reasoning="Error during evaluation: object MagicMock can't be used in 'await' expression", violations=[], modifications={}, feedback=['System error - action blocked for safety'], timestamp=datetime.datetime(2025, 9, 23, 17, 17, 54, 421661), remediation_steps=[], follow_up_required=False).decision
------------------------------ Captured log call -------------------------------
ERROR    nethical.core.governance:governance.py:996 Error evaluating action failure_test: object MagicMock can't be used in 'await' expression
--------------------------------- JSON report ----------------------------------
report saved to: tests/results/individual/testrecoveryandfailsafes_results.json
=========================== short test summary info ============================
FAILED tests/advancedtests.py::TestRecoveryAndFailsafes::test_component_failure_recovery - assert <Decision.BLOCK: 'block'> in ['RESTRICT', 'BLOCK', 'TERMINATE']
 +  where <Decision.BLOCK: 'block'> = JudgmentResult(judgment_id='6ab1557b3772', action_id='failure_test', decision=<Decision.BLOCK: 'block'>, confidence=0.0, reasoning="Error during evaluation: object MagicMock can't be used in 'await' expression", violations=[], modifications={}, feedback=['System error - action blocked for safety'], timestamp=datetime.datetime(2025, 9, 23, 17, 17, 54, 421661), remediation_steps=[], follow_up_required=False).decision
========================= 1 failed, 1 passed in 0.13s ==========================

============================================================
STDERR:

